<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Streameurs Summoner's War</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .streamer-card { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; width: 320px; }
    .online { background-color: #d4f8d4; }
    .offline { background-color: #f8d4d4; }
    img { width: 100%; }
  </style>
</head>
<body>
  <h1>Streameurs Summoner's War</h1>
  <div id="streamers-list"></div>

  <script>
    async function fetchStreamers() {
      const container = document.getElementById('streamers-list');
      container.innerHTML = '<p>Chargement...</p>';

      try {
        const res = await fetch('https://summoners-war-backend.onrender.com/api/streamers'); // ðŸ”¹ Remplace par ton URL backend Render
        const streamers = await res.json();

        let html = '';
        streamers.forEach(s => {
          html += `
            <div class="streamer-card ${s.online ? 'online' : 'offline'}">
              <a href="${s.twitchUrl}" target="_blank">
                ${s.thumbnailUrl ? `<img src="${s.thumbnailUrl}" alt="${s.name}">` : ''}
                <h3>${s.name} ${s.online ? 'ðŸ”´ En ligne' : 'âšª Hors ligne'}</h3>
                ${s.online ? `<p>${s.title}</p><p>${s.viewerCount} viewers</p>` : ''}
              </a>
            </div>
          `;
        });

        container.innerHTML = html;
      } catch (err) {
        container.innerHTML = '<p>Erreur lors du chargement des streameurs</p>';
        console.error(err);
      }
    }

    fetchStreamers();
  </script>
</body>
</html>
